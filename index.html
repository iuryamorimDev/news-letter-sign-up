<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frontend Mentor | NewsLetter Sign up</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

</head>

<body>
  <div id="container" class="container">
    <div id="left" class="left">
      <div class="left-info">
        <h1>Stay updated</h1>
        <p>Join 60,000+ product managers receiving monthly updates on:</p>
        <ul>
          <li>Product discovery and building what matters</li>
          <li>Measuring to ensure updates are a success</li>
          <li>And much more!</li>
        </ul>
      </div>

      <form id="form">
        <div class="form-item">
          <label for="email">
            <p>Email address</p>
            <p id="invalid-email" class="invalid-email">Valid email required</p>
          </label>
          <input type="email" name="email" id="email" placeholder="email@company.com">
        </div>
        <div class="form-item">
          <button id="submit-btn" type="submit">
            Subscribe to monthly NewsLetter
          </button>
        </div>
      </form>
    </div>

    <div class="right">
      <picture>
        <source media="(max-width: 768px)" srcset="images/illustration-sign-up-desktop.svg">
        <img src="./images/illustration-sign-up-desktop.svg" alt="illustration-sign-up-desktop">
      </picture>
    </div>

    <div id="confirmed-message" class="confirmed-message">
      <img src="./images/icon-success.svg" alt="success svg">
      <h2>Thanks for subscribing!</h2>
      <p>A confirmation email has been sent to <span id="user-email"></span>. Please open it and click the button inside to confirm your subscription.</p>
      <button id="dismiss-message">
        Dismiss message
      </button>

    </div>



  </div>


  <script>
    const containerEl = document.getElementById("container");
    const leftEl = document.getElementById("left");
    const rightEl = document.getElementById("right");

    const userEmailEl = document.getElementById("user-email");
    const invalidEmailEl = document.getElementById("invalid-email");
    const emailInput = document.getElementById("email");
    const submitBtnEl = document.getElementById("submit-btn");

    const confirmedMessageEl = document.getElementById("confirmed-message");
    const dismissMessageEl = document.getElementById("dismiss-message");

    function formSuccess() {
      confirmedMessageEl.classList.add("active");
      containerEl.classList.add("success");
      leftEl.style.display = "none";
      rightEl.style.display = "none";
    }

    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    submitBtnEl.addEventListener("click", (e) => {
      e.preventDefault();
      const email = emailInput.Value.trim();

      if (validateEmail(email)) {
        formSuccess();
        userEmailEl.innerText = email;
        emailInput.value = "";

        invalidEmailEl.classList.remove("active");
        emailInput.classList.remove("active");
      } else {
        invalidEmailEl.classList.add("active");
        emailInput.classList.add("active");
      }
    });

    dismissMessageEl.addEventListener("click", () => {
      leftEl.style.display = "block";
      rightEl.style.display = "block";
      containerEl.classList.remove("success");
      confirmedMessageEl.classList.remove("active");
    });
  </script>
</body>

</html>